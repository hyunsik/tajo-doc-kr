

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>타조 JDBC 드라이버 &mdash; Apache Tajo 0.8.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Apache Tajo 0.8.0 documentation" href="index.html"/>
        <link rel="next" title="Tajo 클라이언트 API" href="tajo_client_api.html"/>
        <link rel="prev" title="OpenStack Swift 통합" href="swift_integration.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> Apache Tajo</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Apache Tajo란?</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">시작하기</a><ul>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#id2">준비 사항</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#id3">다운로드 및 소스코드 풀기</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#id5">소스코드 빌드</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#id6">로컬 클러스터 셋업</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#id7">첫 질의 실행</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">설정</a><ul>
<li class="toctree-l2"><a class="reference internal" href="configuration/preliminary.html">준비</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration/cluster_setup.html">클러스터 구성</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration/tajo_master_configuration.html">Tajo Master Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration/worker_configuration.html">워커(Worker) 설정</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration/catalog_configuration.html">카탈로그 설정</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration/ha_configuration.html">타조 마스터 고 가용성</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration/service_config_defaults.html">클러스터 서비스 설정 기본값</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration/tajo-site-xml.html">tajo-site.xml 파일</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration/catalog-site-xml.html">catalog-site.xml 파일</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tsql.html">타조 쉘 (TSQL)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tsql/meta_command.html">메타 명령</a></li>
<li class="toctree-l2"><a class="reference internal" href="tsql/dfs_command.html">HDFS 명령 실행법</a></li>
<li class="toctree-l2"><a class="reference internal" href="tsql/variables.html">세션 변수들</a></li>
<li class="toctree-l2"><a class="reference internal" href="tsql/admin_command.html">어드민 명령들</a></li>
<li class="toctree-l2"><a class="reference internal" href="tsql/intro.html">TSQL 소개</a></li>
<li class="toctree-l2"><a class="reference internal" href="tsql/single_command.html">단일 명령 실행</a></li>
<li class="toctree-l2"><a class="reference internal" href="tsql/execute_file.html">파일에 저장된 질의 실행</a></li>
<li class="toctree-l2"><a class="reference internal" href="tsql/background_command.html">백그라운드 프로세스로 실행</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="sql_language.html">SQL 언어 (Tajo 질의 언어)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="sql_language/data_model.html">데이터 모델</a></li>
<li class="toctree-l2"><a class="reference internal" href="sql_language/ddl.html">데이터 정의 언어 (DDL, Data Definition Language)</a></li>
<li class="toctree-l2"><a class="reference internal" href="sql_language/insert.html">데이터 삽입: INSERT (OVERWRITE) INTO</a></li>
<li class="toctree-l2"><a class="reference internal" href="sql_language/queries.html">질의하기</a></li>
<li class="toctree-l2"><a class="reference internal" href="sql_language/sql_expression.html">SQL 수식</a></li>
<li class="toctree-l2"><a class="reference internal" href="sql_language/predicates.html">연산자</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="time_zone.html">타임존(Time Zone)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="time_zone.html#server-cluster-time-zone">서버 클러스터 타임존 (Server Cluster Time Zone)</a></li>
<li class="toctree-l2"><a class="reference internal" href="time_zone.html#table-time-zone">테이블 타임존 (Table Time Zone)</a></li>
<li class="toctree-l2"><a class="reference internal" href="time_zone.html#client-time-zone">클라이언트 타임존 (Client Time Zone)</a></li>
<li class="toctree-l2"><a class="reference internal" href="time_zone.html#time-zone-id">Time Zone ID</a></li>
<li class="toctree-l2"><a class="reference internal" href="time_zone.html#id1">타임존 사용 예제</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="functions.html">Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="functions/math_func_and_operators.html">수학함수와 연산자들</a></li>
<li class="toctree-l2"><a class="reference internal" href="functions/string_func_and_operators.html">문자열 함수와 연산자들</a></li>
<li class="toctree-l2"><a class="reference internal" href="functions/datetime_func_and_operators.html">날짜 및 시간 함수와 연산자들</a></li>
<li class="toctree-l2"><a class="reference internal" href="functions/network_func_and_operators.html">네트워크 함수와 연산자들</a></li>
<li class="toctree-l2"><a class="reference internal" href="functions/json_func.html">JSON 함수</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="table_management.html">테이블 관리</a><ul>
<li class="toctree-l2"><a class="reference internal" href="table_management/table_overview.html">Apache Tajo 테이블 관리 개요</a></li>
<li class="toctree-l2"><a class="reference internal" href="table_management/file_formats.html">파일 포맷</a></li>
<li class="toctree-l2"><a class="reference internal" href="table_management/compression.html">압축</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="table_partitioning.html">테이블 파티셔닝</a><ul>
<li class="toctree-l2"><a class="reference internal" href="partitioning/intro_to_partitioning.html">파티셔닝 소개</a></li>
<li class="toctree-l2"><a class="reference internal" href="partitioning/column_partitioning.html">컬럼 파티셔닝</a></li>
<li class="toctree-l2"><a class="reference internal" href="partitioning/range_partitioning.html">범위 파티셔닝 (Range Partitioning)</a></li>
<li class="toctree-l2"><a class="reference internal" href="partitioning/hash_partitioning.html">해쉬 (Hash) 파티셔닝</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index_overview.html">인덱스 (실험중)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index/types.html">인덱스 타입</a></li>
<li class="toctree-l2"><a class="reference internal" href="index/how_to_use.html">인덱스 사용법</a></li>
<li class="toctree-l2"><a class="reference internal" href="index/future_work.html">향후 계획</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="backup_and_restore.html">백업 및 복원</a><ul>
<li class="toctree-l2"><a class="reference internal" href="backup_and_restore/catalog.html">카탈로그 백업 및 복원</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hcatalog_integration.html">HCatalog 통합</a></li>
<li class="toctree-l1"><a class="reference internal" href="hbase_integration.html">HBase 통합</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hbase_integration.html#id1">테이블 생성</a></li>
<li class="toctree-l2"><a class="reference internal" href="hbase_integration.html#id2">테이블 삭제</a></li>
<li class="toctree-l2"><a class="reference internal" href="hbase_integration.html#id3">삽입(덮어쓰기)</a></li>
<li class="toctree-l2"><a class="reference internal" href="hbase_integration.html#id4">용례</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="swift_integration.html">OpenStack Swift 통합</a><ul>
<li class="toctree-l2"><a class="reference internal" href="swift_integration.html#swift">Swift 설정</a></li>
<li class="toctree-l2"><a class="reference internal" href="swift_integration.html#hadoop">Hadoop 설정</a></li>
<li class="toctree-l2"><a class="reference internal" href="swift_integration.html#tajo">Tajo 설정</a></li>
<li class="toctree-l2"><a class="reference internal" href="swift_integration.html#id3">Swift에서의 질의</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">타조 JDBC 드라이버</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">JDBC 드라이버 받는 법</a></li>
<li class="toctree-l2"><a class="reference internal" href="#classpath">CLASSPATH 설정하기</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id18">JDBC 클라이언트 예제</a></li>
<li class="toctree-l2"><a class="reference internal" href="#faq">FAQ</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tajo_client_api.html">Tajo 클라이언트 API</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">주요문답</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Apache Tajo</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>타조 JDBC 드라이버</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/jdbc_driver.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="jdbc">
<h1>타조 JDBC 드라이버<a class="headerlink" href="#jdbc" title="Permalink to this headline">¶</a></h1>
<p>아파치 타조 프로젝트는 자바 프로그램에서 아파치 타조를 RDBMS 같은 방식으로 쉽게 접근할 수 있도록 JDBC 드라이버를 제공합니다. 이 섹션에서는 JDBC 드라이버를 받는 방법과 예제 코드를 설명합니다.</p>
<div class="section" id="id1">
<h2>JDBC 드라이버 받는 법<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id2">
<h3>바이너리 배포 버전에서 찾기<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>타조 바이너리 배포 버전에는 JDBC jar 파일과 이에 의존성이 있는 다른 jar 파일들을 포함되어 있습니다. 이 파일들은 <a href="#id3"><span class="problematic" id="id4">``</span></a>${TAJO_HOME}/share/jdbc-dist/<a href="#id5"><span class="problematic" id="id6">``</span></a>에 위치합니다.</p>
</div>
<div class="section" id="id7">
<h3>소스 코드 빌드 하기<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<p>다음 명령을 통해 타조 소스 코드로부터 JDBC 및 관련 jar 파일들을 빌드할 수 있습니다:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>tar xzvf tajo-x.y.z-src.tar.gz
<span class="nv">$ </span>mvn clean package -DskipTests -Pdist -Dtar
<span class="nv">$ </span>ls -l tajo-dist/target/tajo-x.y.z/share/jdbc-dist
</pre></div>
</div>
</div>
</div>
<div class="section" id="classpath">
<h2>CLASSPATH 설정하기<a class="headerlink" href="#classpath" title="Permalink to this headline">¶</a></h2>
<p>JDBC 드라이버를 사용하려면, <a href="#id8"><span class="problematic" id="id9">``</span></a>tajo-dist/target/tajo-x.y.z/share/jdbc-dist``에 있는 jar 파일들을 <a href="#id10"><span class="problematic" id="id11">``</span></a>CLASSPATH``에 넣어주어야 합니다. 또, 하둡 경로도 <a href="#id12"><span class="problematic" id="id13">``</span></a>CLASSPATH``에 포함되어야 합니다. 따라서, <a href="#id14"><span class="problematic" id="id15">``</span></a>CLASSPATH``는 다음과 같게 설정됩니다:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">CLASSPATH</span><span class="o">=</span>path/to/tajo-jdbc/*:path/to/tajo-site.xml:path/to/core-site.xml:path/to/hdfs-site.xml
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">타조 설정 파일(예: <code class="docutils literal"><span class="pre">tajo-site.xml</span></code>)과 하둡 설정 파일(예: <code class="docutils literal"><span class="pre">core-site.xml</span></code>, <code class="docutils literal"><span class="pre">hdfs-site.xml</span></code>)이 있는 경로를 꼭 <a href="#id16"><span class="problematic" id="id17">``</span></a>CLASSPATH``에 넣어야 합니다.</p>
</div>
</div>
<div class="section" id="id18">
<h2>JDBC 클라이언트 예제<a class="headerlink" href="#id18" title="Permalink to this headline">¶</a></h2>
<p>JDBC 드라이버 클래스의 이름은 <code class="docutils literal"><span class="pre">org.apache.tajo.jdbc.TajoDriver``입니다.</span> <span class="pre">드라이버</span> <span class="pre">클래스를</span> <span class="pre">로딩하려면</span> <span class="pre">``Class.forName(&quot;org.apache.tajo.jdbc.TajoDriver&quot;)</span></code> 명령을 수행합니다. 접속 url은 <a href="#id19"><span class="problematic" id="id20">``</span></a><a class="reference external" href="jdbc:tajo:/">jdbc:tajo:/</a>/&lt;TajoMaster hostname&gt;:&lt;TajoMaster client rpc port&gt;/&lt;database name&gt;``여야 합니다. 타조 마스터의 기본 클라이언트 RPC 접속 포트는 <a href="#id21"><span class="problematic" id="id22">``</span></a>26002``입니다. 접속 포트를 변경하려면 :doc:<a href="#id23"><span class="problematic" id="id24">`</span></a>/configuration/service_config_defaults`를 참고하세요.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">현재 타조는 데이터베이스 및 네임스페이스 개념을 지원하지 않습니다. 모든 테이블은 <code class="docutils literal"><span class="pre">default</span></code> 데이터베이스안에 존재합니다. 따라서 데이터베이스명을 지정할 필요가 없습니다.</p>
</div>
<p>아래는 JDBC 클라이언트의 예제입니다.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">java.sql.Connection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.ResultSet</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.Statement</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.DriverManager</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">TajoJDBCClient</span> <span class="o">{</span>

  <span class="o">....</span>

  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>

    <span class="k">try</span> <span class="o">{</span>
      <span class="n">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">&quot;org.apache.tajo.jdbc.TajoDriver&quot;</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">ClassNotFoundException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
      <span class="c1">// fill your handling code</span>
    <span class="o">}</span>

    <span class="n">Connection</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span><span class="s">&quot;jdbc:tajo://127.0.0.1:26002/default&quot;</span><span class="o">);</span>

    <span class="n">Statement</span> <span class="n">stmt</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
    <span class="n">ResultSet</span> <span class="n">rs</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
    <span class="k">try</span> <span class="o">{</span>
      <span class="n">stmt</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">createStatement</span><span class="o">();</span>
      <span class="n">rs</span> <span class="o">=</span> <span class="n">stmt</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">(</span><span class="s">&quot;select * from table1&quot;</span><span class="o">);</span>
      <span class="k">while</span> <span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">next</span><span class="o">())</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span> <span class="o">+</span> <span class="s">&quot;,&quot;</span> <span class="o">+</span> <span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="mi">3</span><span class="o">));</span>
      <span class="o">}</span>
    <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">rs</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="n">rs</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">stmt</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="n">stmt</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">conn</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="n">conn</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="faq">
<h2>FAQ<a class="headerlink" href="#faq" title="Permalink to this headline">¶</a></h2>
<div class="section" id="java-nio-channels-unresolvedaddressexception">
<h3>java.nio.channels.UnresolvedAddressException<a class="headerlink" href="#java-nio-channels-unresolvedaddressexception" title="Permalink to this headline">¶</a></h3>
<p>최종 결과를 가져올 때, 타조 JDBC 드라이버는 HDFS 데이터 노드에 접근을 시도합니다. 따라서 JDBC 클라이언트와 HDFS 데이터 노드는 네트워크 접속이 가능해야 합니다. 많은 경우에 HDFS 클러스터는 사설 네트워크 안에서 사설 호스트명을 가지도록 구축됩니다. 이 경우, JDBC 클라이언트 쪽에 해당 호스트명을 등록해 주어야 합니다.</p>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tajo_client_api.html" class="btn btn-neutral float-right" title="Tajo 클라이언트 API"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="swift_integration.html" class="btn btn-neutral" title="OpenStack Swift 통합"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Apache Tajo Team.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.8.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>